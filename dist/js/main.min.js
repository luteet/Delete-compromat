const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),burger=document.querySelector(".header__burger"),header=document.querySelector(".header"),imageBody=document.querySelectorAll(".image-body");imageBody.forEach(e=>{const t=e.querySelector("img");t&&t.getAttribute("width")&&t.getAttribute("height")&&(e.style.paddingTop=Number(t.getAttribute("height"))/Number(t.getAttribute("width"))*100+"%")});const figure=document.querySelectorAll("figure:not(.wp-block-gallery)");figure.forEach(e=>{e.insertAdjacentHTML("beforeend",'<div class="image-filter"></div>')});const imageFilter=document.querySelectorAll(".image-filter"),imageFilterBase=document.querySelector(".image-filter-base").dataset.url;imageFilter.forEach(e=>{e.style.backgroundImage=`url(${imageFilterBase})`});const getDeviceType=()=>{const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"};body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_mob-menu-active")});const o=t(".header__nav--list > li:has(ul) > a");o&&"desktop"!=getDeviceType()?o.classList.contains("active")?o.classList.remove("active"):(document.querySelectorAll(".header__nav--list > li:has(ul) > a.active").forEach(e=>{e.classList.remove("active")}),o.classList.add("active"),e.preventDefault()):document.querySelector(".header__nav--list > li:has(ul) > a.active")&&document.querySelector(".header__nav--list > li:has(ul) > a.active").classList.remove("active");const i=t(".blog-page__nav-content--block a");if(i){e.preventDefault();let t=i.getAttribute("href");t.length>1&&(t=document.querySelector(t)),t&&(history.pushState("","","#"+t.getAttribute("id")),window.scrollTo({top:t.offsetTop,left:0,behavior:"smooth"}))}const r=t(".blog-page__nav-content--target");if(r&&!r.classList.contains("_animating")){r.classList.add("_animating");const e=r.parentElement,t=e.querySelector(".blog-page__nav-content--block");e.classList.contains("_active")?(t.style.display="block",e.classList.remove("_active"),slideUp(t)):(e.classList.add("_active"),slideDown(t)),setTimeout(()=>{r.classList.remove("_animating")},300)}}));const btn=document.querySelectorAll(".btn");function resize(){html.style.setProperty("--height-header",header.offsetHeight+"px"),html.style.setProperty("--vh",.01*window.innerHeight+"px")}function Popup(e){let t=document.querySelector("body"),o=document.querySelector("html"),i="object"==typeof e&&!!e.saveHref,r=!0,s=!0;const n=function(e,s){if(r){r=!1;let n=document.querySelector(e);if(!n)return new Error(`Not found "${e}"`);n.classList.contains("popup")&&(t.classList.remove("_popup-active"),o.style.setProperty("--popup-padding",window.innerWidth-t.offsetWidth+"px"),t.classList.add("_popup-active"),i&&history.pushState("","",e),setTimeout(()=>{if(s)n.classList.add("_transition-none"),n.classList.add("_active"),r=!0;else{n.classList.add("_active"),n.addEventListener("transitionend",(function e(){r=!0,n.removeEventListener("transitionend",e)}))}},0))}},a=function(e){if(s){let r;s=!1,r="string"==typeof e?document.querySelector(e):e.closest(".popup"),r.classList.contains("_transition-none")&&r.classList.remove("_transition-none"),setTimeout(()=>{r.classList.remove("_active"),r.addEventListener("transitionend",(function e(){setTimeout(()=>{const n=document.querySelectorAll(".popup._active");n.length<1&&(t.classList.remove("_popup-active"),o.style.setProperty("--popup-padding","0px")),i&&(!function(){let e=window.location.toString();if(e.indexOf("#")>0){let t=e.substring(0,e.indexOf("#"));window.history.replaceState({},document.title,t)}}(),n[n.length-1]&&history.pushState("","","#"+n[n.length-1].getAttribute("id"))),s=!0,r.removeEventListener("transitionend",e)},100)}))},0)}};return{open:function(e){n(e)},close:function(e){a(e)},init:function(){let e;if(t.addEventListener("click",(function(t){e=t.target;let o=e.closest(".open-popup");o&&(t.preventDefault(),n(o.getAttribute("href")));let i=e.closest(".popup-close");i&&a(i)})),i){let e=new URL(window.location);e.hash&&n(e.hash,!0)}}}}btn.forEach(e=>{e.addEventListener("mouseenter",(function(t){e.parentElement.classList.add("_hover"),e.classList.remove("_blur"),setTimeout(()=>{e.classList.contains("_blur")||e.parentElement.classList.add("_hover-delay")},300)})),e.addEventListener("mousemove",(function(t){const o=e.offsetWidth/2,i=e.offsetHeight/2,r=e.classList.contains("_min")?3:5;e.style.transform=`rotateX(${-(t.offsetY-i)/r}deg) rotateY(${(t.offsetX-o)/r}deg) translate3d(${(t.offsetX-o)/r}px, ${(t.offsetY-i)/r}px, 30px)`})),e.addEventListener("mouseleave",(function(t){e.style.transform="translateZ(0px)",e.classList.add("_blur"),e.parentElement.classList.remove("_hover"),e.parentElement.classList.remove("_hover-delay")}))}),resize(),window.onresize=resize;const popup=new Popup;function slideUp(e,t=300){e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function slideDown(e,t=300){e.style.removeProperty("display");let o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;let i=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=i+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}popup.init(),new LazyLoad;